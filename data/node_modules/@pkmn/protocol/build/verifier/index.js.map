{"version":3,"sources":["../../src/verifier/index.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  BoostID,\n  FieldCondition,\n  GameType,\n  GenerationNum,\n  ID,\n  Player,\n  SideCondition,\n  StatusName,\n  TypeName,\n  Weather,\n} from '@pkmn/types';\n\nimport {Args, KWArgs, PokemonIdent, Protocol, ignoreKwArgsSimple} from '../index';\n\ninterface Generation {\n  num: GenerationNum;\n  abilities: API;\n  items: API;\n  moves: API;\n  species: API;\n  types: API;\n}\n\ninterface API {\n  get(name: string): Record<string, unknown> | undefined;\n}\n\nconst QUERYTYPES: Protocol.QueryType[] =\n  ['userdetails', 'roomlist', 'rooms', 'laddertop', 'roominfo', 'savereplay', 'debug'];\nconst GAMETYPES: GameType[] =\n  ['singles', 'doubles', 'triples', 'multi', 'freeforall', 'rotation'];\nconst PLAYERS: Player[] = ['p1', 'p2', 'p3', 'p4'];\nconst KWARGS: Protocol.BattleArgsWithKWArgType[] = ['from', 'of', 'still', 'silent'];\nconst STATUSES: StatusName[] = ['slp', 'psn', 'brn', 'frz', 'par', 'tox'];\nconst BOOSTS: BoostID[] = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion'];\nconst REASONS: Protocol.Reason[] = [...STATUSES, 'partiallytrapped', 'flinch', 'nopp', 'recharge'];\nconst BOOL_KWARGS = new Set<Protocol.BattleArgsWithKWArgType>([\n  'broken', 'consumed', 'damage', 'eat', 'fail', 'fatigue', 'forme', 'heavy', 'miss', 'msg',\n  'notarget', 'ohko', 'silent', 'still', 'thaw', 'upkeep', 'weak', 'weaken', 'zeffect', 'already',\n  'identify', 'interrupt', 'multiple', 'partiallytrapped', 'prepare', 'fromitem', 'persistent',\n  'source',\n]);\nconst ABILITY_KWARGS: Protocol.BattleArgsWithKWArgType[] = ['ability', 'ability2'];\nconst MOVE_KWARGS: Protocol.BattleArgsWithKWArgType[] = ['block'];\nconst ITEM_KWARGS: Protocol.BattleArgsWithKWArgType[] = ['item'];\nconst NAME_KWARGS: Protocol.BattleArgsWithKWArgType[] = ['name', 'wisher'];\nconst BARE_EFFECTS = ['Dynamax', 'Recoil'] as Protocol.EffectName[];\nconst POKE_ITEMS = ['item', 'mail', ''] as const;\nconst WEATHER = [\n  'RainDance', 'Sandstorm', 'SunnyDay', 'Hail',\n  'PrimordialSea', 'DesolateLand', 'DeltaStream', 'Snow',\n];\nconst FIELD_CONDITIONS = ['Misty Terrain'];\nconst SIDE_CONDITIONS = [\n  'Mist', 'Spikes', 'Light Screen', 'Reflect', 'Sticky Web', 'Stealth Rock', 'Toxic Spikes',\n  'Safeguard', 'G-Max Volcalith', 'G-Max Wildfire', 'G-Max Cannonade', 'G-Max Steelsurge',\n  'G-Max Vine Lash', 'Grass Pledge', 'Water Pledge', 'Fire Pledge', 'Aurora Veil',\n];\nconst STAT_DISPLAY_NAMES = ['Attack', 'Defense'];\nconst SSA = ['Shell Side Arm Physical', 'Shell Side Arm Special'];\nconst IVY_CUDGEL = ['Ivy Cudgel Water', 'Ivy Cudgel Fire', 'Ivy Cudgel Rock'];\n\nfunction verifyRoomID(roomid: Protocol.RoomID) {\n  return /^[-a-z0-9]+$/.test(roomid);\n}\n\nfunction verifyID(id: ID) {\n  return /^[a-z0-9]+$/.test(id);\n}\n\nfunction verifyName(name: string) {\n  return !!name && !verifyID(name as ID);\n}\n\nfunction verifyStatDisplayName(name: Protocol.StatDisplayName) {\n  return STAT_DISPLAY_NAMES.includes(name);\n}\n\nfunction verifyWeather(name: Weather) {\n  return WEATHER.includes(name);\n}\n\nfunction verifyFieldCondition(name: FieldCondition) {\n  return FIELD_CONDITIONS.includes(name);\n}\n\nfunction verifySideCondition(name: SideCondition) {\n  return SIDE_CONDITIONS.includes(name);\n}\n\nfunction verifyType(name: TypeName, gen?: Generation) {\n  if (!gen) return verifyName(name);\n  return verifyName(name) && !!gen.types.get(name);\n}\n\nfunction verifyTypes(types: Protocol.Types, gen?: Generation) {\n  if (!gen) return verifyName(types);\n  const [type1, type2] = types.split('/');\n  return verifyType(type1 as TypeName, gen) &&\n    (!type2 || verifyType(type2 as TypeName, gen));\n}\n\nfunction verifyAbilityName(name: Protocol.AbilityName, gen?: Generation) {\n  return verifyName(name) && (!gen || name === 'As One' || !!gen.abilities.get(name));\n}\n\nfunction verifyItemName(name: Protocol.ItemName, gen?: Generation) {\n  return verifyName(name) && (!gen || !!gen.items.get(name));\n}\n\nfunction verifyMoveName(name: Protocol.MoveName, gen?: Generation): boolean {\n  return verifyName(name) && (!gen ||\n    !!gen.moves.get(name) ||\n    (name.startsWith('Z-') && verifyMoveName(name.slice(2) as Protocol.MoveName, gen)));\n}\n\nfunction verifyAnimationName(name: Protocol.AnimationName, gen?: Generation): boolean {\n  return verifyName(name) && (!gen ||\n    IVY_CUDGEL.includes(name) ||\n    SSA.includes(name) ||\n    name === 'Fickle Beam All Out' ||\n    verifyMoveName(name as Protocol.MoveName, gen));\n}\n\nfunction verifySpeciesName(name: Protocol.SpeciesName, gen?: Generation) {\n  return verifyName(name) && (!gen || !!gen.species.get(name));\n}\n\nfunction verifyEffectName(name: Protocol.EffectName, gen?: Generation) {\n  if (name.includes(':')) {\n    if (name.startsWith('ability:')) {\n      return verifyAbilityName(name.slice(8).trim() as Protocol.AbilityName, gen);\n    } else if (name.startsWith('item:')) {\n      return verifyItemName(name.slice(5).trim() as Protocol.ItemName, gen);\n    } else if (name.startsWith('move:')) {\n      return verifyMoveName(name.slice(5).trim() as Protocol.MoveName, gen);\n    } else if (name.startsWith('pokemon:')) {\n      return verifySpeciesName(name.slice(8).trim() as Protocol.SpeciesName, gen);\n    } else {\n      return false;\n    }\n  }\n  return verifyID(name as ID) || BARE_EFFECTS.includes(name);\n}\n\nfunction verifyMoveEffectName(name: Protocol.MoveEffectName, gen?: Generation) {\n  return name.startsWith('move:') && verifyMoveName(name.slice(5).trim() as Protocol.MoveName, gen);\n}\n\nfunction verifyTimestamp(timestamp: Protocol.Timestamp) {\n  return /^\\d+$/.test(timestamp);\n}\n\nfunction verifyJSON(json: string) {\n  try {\n    JSON.parse(json);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nfunction verifyNum(num: Protocol.Num) {\n  return !isNaN(+num);\n}\n\nfunction verifyPokemonIdent(ident: Protocol.PokemonIdent) {\n  return /^p[1234][abc]?: [^|]{1,25}$/.test(ident);\n}\n\nfunction verifyPokemonDetails(details: Protocol.PokemonDetails, gen?: Generation) {\n  // TODO: exclude gender and shiny if Gen 1?\n  const m = /^([^|]{1,25}?)(, L\\d{0,3})?(, [MF])?(, shiny)?$/.exec(details);\n  if (!m) return false;\n  return !gen || !!gen.species.get(m[1]);\n}\n\nfunction verifyPokemonHPStatus(hpstatus: Protocol.PokemonHPStatus) {\n  return hpstatus === '0 fnt' || /^\\d+\\/\\d+( (par|brn|slp|frz|tox|psn))?$/.test(hpstatus);\n}\n\nfunction verifyPlayer(player: Player) {\n  return PLAYERS.includes(player);\n}\n\nfunction verifySide(side: Protocol.Side) {\n  return /^p[1234]: [^|]{1,25}$/.test(side);\n}\n\nfunction verifyStatusName(status: StatusName) {\n  return STATUSES.includes(status);\n}\n\nfunction verifyBoostID(boost: BoostID) {\n  return BOOSTS.includes(boost);\n}\n\nfunction verifyBoostIDs(boosts: Protocol.BoostIDs) {\n  return boosts.split(', ').every(boost => verifyBoostID(boost as BoostID));\n}\n\nfunction verifyKWArgs<T extends Protocol.BattleArgsWithKWArgName>(\n  kwArgs: Protocol.BattleArgsKWArgs[T],\n  keys: Array<Protocol.BattleArgsWithKWArgs[T]>,\n  gen?: Generation\n) {\n  for (const k in kwArgs) {\n    const key = k as unknown as Protocol.BattleArgsWithKWArgs[T];\n    if (!keys.includes(key)) return false;\n    if (!verifyKWArg(key, (kwArgs as Protocol.BattleArgsKWArgsTypes)[key], gen)) return false;\n  }\n  return true;\n}\n\nfunction verifyKWArg<T extends Protocol.BattleArgsWithKWArgName>(\n  k: Protocol.BattleArgsWithKWArgs[T],\n  v: Protocol.BattleArgsKWArgsTypes[Protocol.BattleArgsWithKWArgs[T]],\n  gen?: Generation\n) {\n  if (v === undefined) return true;\n  if (BOOL_KWARGS.has(k)) return v === true;\n  if (NAME_KWARGS.includes(k)) return verifyName(v as string);\n  if (ABILITY_KWARGS.includes(k)) {\n    return v === '' || verifyAbilityName(v as Protocol.AbilityName, gen);\n  }\n  if (ITEM_KWARGS.includes(k)) return verifyItemName(v as Protocol.ItemName, gen);\n  if (MOVE_KWARGS.includes(k)) return verifyMoveName(v as Protocol.MoveName, gen);\n  if (k === 'of') return v === '' || verifyPokemonIdent(v as Protocol.PokemonIdent);\n  if (k === 'spread') {\n    return v === true || (v as Protocol.Slots).split(',').every(s => /^p[1234][abc]$/.test(s));\n  }\n  if (k === 'from') {\n    return verifyEffectName(v as Protocol.EffectName, gen) ||\n      verifyMoveName(v as Protocol.MoveName, gen) ||\n      verifyAbilityName(v as Protocol.AbilityName, gen);\n  }\n  if (k === 'number') return verifyNum(v as Protocol.Num);\n  if (k === 'move') return verifyMoveName(v as Protocol.MoveName, gen) || verifyID(v as ID);\n  if (k === 'anim') return verifyAnimationName(v as Protocol.AnimationName, gen) || v === 'prepare';\n  return false;\n}\n\nclass Handler implements Required<Protocol.Handler<boolean>> {\n  private readonly gen?: Generation;\n  private readonly raw: boolean;\n\n  constructor(gen?: Generation, raw?: boolean) {\n    this.gen = gen;\n    this.raw = !!raw;\n  }\n\n  '|init|'(args: Args['|init|']) {\n    return args.length === 2 && (['chat', 'battle', 'html'].includes(args[1]));\n  }\n\n  '|title|'(args: Args['|title|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|users|'(args: Args['|users|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '||'(args: Args['||']) {\n    return args.length === 2 && !args[0];\n  }\n\n  '|html|'(args: Args['|html|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|pagehtml|'(args: Args['|pagehtml|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|uhtml|'(args: Args['|uhtml|']) {\n    return args.length === 3 && !!args[1];\n  }\n\n  '|uhtmlchange|'(args: Args['|uhtmlchange|']) {\n    return args.length === 3 && !!args[1];\n  }\n\n  '|join|'(args: Args['|join|']) {\n    if (args.length !== 3) return false;\n    if (typeof args[2] !== 'boolean') return false;\n    return !!args[1];\n  }\n\n  '|leave|'(args: Args['|leave|']) {\n    if (args.length !== 3) return false;\n    if (typeof args[2] !== 'boolean') return false;\n    return !!args[1];\n  }\n\n  '|name|'(args: Args['|name|']) {\n    if (args.length !== 4) return false;\n    if (typeof args[3] !== 'boolean') return false;\n    return !!args[1] && verifyID(args[2]);\n  }\n\n  '|chat|'(args: Args['|chat|']) {\n    return args.length === 3 && !!args[1];\n  }\n\n  '|notify|'(args: Args['|notify|']) {\n    return args.length >= 2 && args.length <= 4 && (args as any).every((a: string) => !!a);\n  }\n\n  '|:|'(args: Args['|:|']) {\n    return args.length === 2 && verifyTimestamp(args[1]);\n  }\n\n  '|t:|'(args: Args['|t:|']) {\n    return args.length === 2 && verifyTimestamp(args[1]);\n  }\n\n  '|c:|'(args: Args['|c:|']) {\n    return args.length === 4 && verifyTimestamp(args[1]) && !!args[2];\n  }\n\n  '|battle|'(args: Args['|battle|']) {\n    return args.length === 4 && verifyRoomID(args[1]) && !!args[2] && !!args[3];\n  }\n\n  '|popup|'(args: Args['|popup|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|pm|'(args: Args['|pm|']) {\n    return args.length === 4 && args.every((a: string) => !!a);\n  }\n\n  '|usercount|'(args: Args['|usercount|']) {\n    return args.length === 2 && verifyNum(args[1]);\n  }\n\n  '|nametaken|'(args: Args['|nametaken|']) {\n    return args.length === 3 && !args[1] && !args[2];\n  }\n\n  '|challstr|'(args: Args['|challstr|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|customgroups|'(args: Args['|customgroups|']) {\n    return args.length === 2 && verifyJSON(args[1]);\n  }\n\n  '|updateuser|'(args: Args['|updateuser|']) {\n    if (args.length < 5) return false;\n    return !!args[1] && (args[2] === '0' || args[2] === '1') && !!args[3] && verifyJSON(args[4]);\n  }\n\n  '|formats|'(args: Args['|formats|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|updatesearch|'(args: Args['|updatesearch|']) {\n    return args.length === 2 && verifyJSON(args[1]);\n  }\n\n  '|message|'(args: Args['|message|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|updatechallenges|'(args: Args['|updatechallenges|']) {\n    return args.length === 2 && verifyJSON(args[1]);\n  }\n\n  '|queryresponse|'(args: Args['|queryresponse|']) {\n    return args.length === 3 && QUERYTYPES.includes(args[1]) && verifyJSON(args[2]);\n  }\n\n  '|unlink|'(args: Args['|unlink|']) {\n    if (args.length === 2) return !!args[1];\n    if (args.length === 3) return args[1] === 'hide' && !!args[2];\n    return false;\n  }\n\n  '|raw|'(args: Args['|raw|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|warning|'(args: Args['|warning|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|error|'(args: Args['|error|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|bigerror|'(args: Args['|bigerror|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|chatmsg|'(args: Args['|chatmsg|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|chatmsg-raw|'(args: Args['|chatmsg-raw|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|controlshtml|'(args: Args['|controlshtml|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|fieldhtml|'(args: Args['|fieldhtml|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|debug|'(args: Args['|debug|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|deinit|'(args: Args['|deinit|']) {\n    return args.length === 1;\n  }\n\n  '|selectorhtml|'(args: Args['|selectorhtml|']) {\n    return args.length === 3 && !!args[1] && !!args[2];\n  }\n\n  '|refresh|'(args: Args['|refresh|']) {\n    return args.length === 1;\n  }\n\n  '|tempnotify|'(args: Args['|tempnotify|']) {\n    return args.length >= 3 && !!args[1] && !!args[2] &&\n      (args.length === 3 ||\n        (args.length >= 4 && !!args[3] &&\n          (args.length === 4 || (args.length === 5 && !!args[4]))));\n  }\n\n  '|tempnotifyoff|'(args: Args['|tempnotifyoff|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|noinit|'(args: Args['|noinit|']) {\n    return args.length >= 3 && !!args[2] &&\n      (((args[1] === 'joinfailed' || args[1] === 'namerequired' || args[1] === 'nonexistent') &&\n          args.length === 3) ||\n        (args[1] === 'rename' && args.length === 4 && verifyRoomID(args[2]) && !!args[3]));\n  }\n\n  '|hidelines|'(args: Args['|hidelines|']) {\n    return args.length >= 3 && verifyID(args[2]) &&\n      (((args[1] === 'delete' || args[1] === 'hide') && args.length === 4 && verifyNum(args[3])) ||\n        (args[1] === 'unlink' && args.length === 3));\n  }\n\n  '|expire|'(args: Args['|expire|']) {\n    return args.length === 1 || (args.length === 2 && !!args[1]);\n  }\n\n  '|askreg|'(args: Args['|askreg|']) {\n    return args.length === 2 && verifyID(args[1]);\n  }\n\n  '|tournament|create|'(args: Args['|tournament|create|']) {\n    return args.length === 4 && !!args[2] && verifyNum(args[3] as Protocol.Num);\n  }\n\n  '|tournament|update|'(args: Args['|tournament|update|']) {\n    return args.length === 3 && verifyJSON(args[2]);\n  }\n\n  '|tournament|updateEnd|'(args: Args['|tournament|updateEnd|']) {\n    return args.length === 2;\n  }\n\n  '|tournament|error|'(args: Args['|tournament|error|']) {\n    return args.length === 3 && !!args[2];\n  }\n\n  '|tournament|forceend|'(args: Args['|tournament|forceend|']) {\n    return args.length === 2;\n  }\n\n  '|tournament|join|'(args: Args['|tournament|join|']) {\n    return args.length === 3 && !!args[2];\n  }\n\n  '|tournament|leave|'(args: Args['|tournament|leave|']) {\n    return args.length === 3 && !!args[2];\n  }\n\n  '|tournament|replace|'(args: Args['|tournament|replace|']) {\n    return args.length === 4 && !!args[2] && !!args[3];\n  }\n\n  '|tournament|start|'(args: Args['|tournament|start|']) {\n    return args.length === 3 && verifyNum(args[2]);\n  }\n\n  '|tournament|disqualify|'(args: Args['|tournament|disqualify|']) {\n    return args.length === 3 && !!args[2];\n  }\n\n  '|tournament|battlestart|'(args: Args['|tournament|battlestart|']) {\n    return args.length === 5 && !!args[2] && !!args[3] && verifyRoomID(args[4]);\n  }\n\n  '|tournament|battleend|'(args: Args['|tournament|battleend|']) {\n    if (args.length !== 7) return false;\n    if (!args[2] || !args[3]) return false;\n    if (/^[0-6],[0-6]$/.test(args[5])) return false;\n    if (args[6] === 'success') {\n      return ['win', 'loss', 'draw'].includes(args[4]);\n    } else if (args[6] === 'fail') {\n      return args[4] === 'draw';\n    } else {\n      return false;\n    }\n  }\n\n  '|tournament|end|'(args: Args['|tournament|end|']) {\n    return args.length === 3 && verifyJSON(args[2]);\n  }\n\n  '|tournament|scouting|'(args: Args['|tournament|scouting|']) {\n    return args.length === 3 && (args[2] === 'allow' || args[2] === 'disallow');\n  }\n\n  '|tournament|autostart|'(args: Args['|tournament|autostart|']) {\n    return (args.length === 3 && args[2] === 'off') ||\n      (args.length === 4 && args[2] === 'on' && verifyNum(args[3]));\n  }\n\n  '|tournament|autodq|'(args: Args['|tournament|autodq|']) {\n    return (args.length === 3 && args[2] === 'off') ||\n      (args.length === 4 && ['on', 'target'].includes(args[2]) && verifyNum(args[3]));\n  }\n\n  '|player|'(args: Args['|player|']) {\n    if (args.length === 2) return verifyPlayer(args[1]);\n    return args.length === 5 &&\n      verifyPlayer(args[1]) &&\n      !!args[2] &&\n      (args[4] === '' || verifyNum(args[4]));\n  }\n\n  '|teamsize|'(args: Args['|teamsize|']) {\n    return args.length === 3 && verifyPlayer(args[1]) && verifyNum(args[2]);\n  }\n\n  '|gametype|'(args: Args['|gametype|']) {\n    return args.length === 2 && GAMETYPES.includes(args[1]);\n  }\n\n  '|gen|'(args: Args['|gen|']) {\n    const gen = +args[1];\n    return args.length === 2 && gen >= 1 && gen <= 9;\n  }\n\n  '|custom|'() {\n    return true; // ignore\n  }\n\n  '|tier|'(args: Args['|tier|']) {\n    return args.length === 2 && verifyName(args[1]);\n  }\n\n  '|rated|'(args: Args['|rated|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|seed|'(args: Args['|seed|']) {\n    return args.length === 2 && /^(\\d|,)+$/.test(args[1]);\n  }\n\n  '|rule|'(args: Args['|rule|']) {\n    return args.length === 2 && args[1].includes(':');\n  }\n\n  '|teampreview|'(args: Args['|teampreview|']) {\n    if (this.gen && this.gen.num < 5) return false;\n    return args.length === 1 || (args.length === 2 && verifyNum(args[1]));\n  }\n\n  '|updatepoke|'(args: Args['|updatepoke|']) {\n    if (this.gen && this.gen.num < 8) return false;\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonDetails(args[2], this.gen);\n  }\n\n  '|clearpoke|'(args: Args['|clearpoke|']) {\n    if (this.gen && this.gen.num < 5) return false;\n    return args.length === 1;\n  }\n\n  '|poke|'(args: Args['|poke|']) {\n    if (this.gen && this.gen.num < 5) return false;\n    return args.length === 4 &&\n      verifyPlayer(args[1]) &&\n      verifyPokemonDetails(args[2], this.gen) &&\n      POKE_ITEMS.includes(args[3]);\n  }\n\n  '|start|'(args: Args['|start|']) {\n    return args.length === 1;\n  }\n\n  '|done|'(args: Args['|done|']) {\n    return args.length === 1;\n  }\n\n  '|request|'(args: Args['|request|']) {\n    return args.length === 2 && verifyJSON(args[1]);\n  }\n\n  '|sentchoice|'(args: Args['|sentchoice|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|inactive|'(args: Args['|inactive|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|inactiveoff|'(args: Args['|inactiveoff|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|upkeep|'(args: Args['|upkeep|']) {\n    return args.length === 1;\n  }\n\n  '|turn|'(args: Args['|turn|']) {\n    return args.length === 2 && verifyNum(args[1]);\n  }\n\n  '|win|'(args: Args['|win|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|tie|'(args: Args['|tie|']) {\n    return args.length === 1;\n  }\n\n  // TODO\n  '|move|'(args: Args['|move|'], kwArgs: KWArgs['|move|']) {\n    if (!verifyPokemonIdent(args[1])) return false;\n    if (!(args[2] === 'recharge' || verifyMoveName(args[2], this.gen))) return false;\n    switch (this.gen?.num || 0) {\n      case 1: case 2: {\n        return args.length === 4 &&\n          (args[3] === '' || (args[3] !== 'null' && verifyPokemonIdent(args[3]))) &&\n          verifyKWArgs(kwArgs, ['miss', 'still', 'from'], this.gen) &&\n          (!kwArgs.from || verifyMoveName(kwArgs.from as Protocol.MoveName, this.gen));\n      }\n      case 3: {\n        return args.length === 4 &&\n          (args[3] === '' || (args[3] === 'null'\n            ? ['Helping Hand'].includes(args[2])\n            : verifyPokemonIdent(args[3]))) &&\n          verifyKWArgs(kwArgs, ['miss', 'still', 'from', 'notarget', 'spread'], this.gen) &&\n          (!kwArgs.from || kwArgs.from === 'lockedmove' ||\n            verifyMoveName(kwArgs.from as Protocol.MoveName, this.gen));\n      }\n      case 4: {\n        const from = [\n          'move: Metronome', 'move: Mirror Move', 'move: Sleep Talk', 'Snatch', 'move: Assist',\n          'move: Copycat', 'Magic Coat', 'lockedmove', 'move: Me First', 'move: Nature Power',\n          'Pursuit',\n        ];\n        return args.length === 4 &&\n          (args[3] === '' || (args[3] === 'null'\n            ? ['Helping Hand'].includes(args[2])\n            : verifyPokemonIdent(args[3]))) &&\n          verifyKWArgs(kwArgs, ['miss', 'still', 'from', 'notarget', 'spread'], this.gen) &&\n          (!kwArgs.from || from.includes(kwArgs.from));\n      }\n      default: {\n        const keys: Protocol.BattleArgsWithKWArgType[] =\n          [...KWARGS, 'anim', 'miss', 'notarget', 'prepare', 'spread', 'zeffect'];\n        if (!verifyKWArgs(kwArgs, keys, this.gen)) return false;\n        return args.length === 3 || (args.length === 4 &&\n          (args[3] === '' || args[3] === 'null' || verifyPokemonIdent(args[3])));\n      }\n    }\n  }\n\n  '|switch|'(args: Args['|switch|'], kwArgs: KWArgs['|switch|']) {\n    const valid = args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonDetails(args[2], this.gen) &&\n      verifyPokemonHPStatus(args[3]);\n\n    if (!valid) return false;\n    if (!this.gen) return verifyKWArgs(kwArgs, KWARGS, this.gen);\n    if (this.gen.num === 1) return !Object.keys(kwArgs).length;\n\n    const from = [\n      'Baton Pass', 'U-turn', 'Volt Switch', 'Parting Shot',\n      'Flip Turn', 'Teleport', 'Chilly Reception', 'Shed Tail',\n    ];\n    const to = [0, 0, 1, 1, 2, 3, 4, 4, 6, 8];\n\n    if (!verifyKWArgs(kwArgs, ['from'], this.gen)) return false;\n    return !kwArgs.from || from.slice(0, to[this.gen.num]).includes(kwArgs.from);\n  }\n\n  '|drag|'(args: Args['|drag|']) {\n    if (this.gen && this.gen.num < 2) return false;\n    return args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonDetails(args[2], this.gen) &&\n      verifyPokemonHPStatus(args[3]);\n  }\n\n  '|detailschange|'(args: Args['|detailschange|']) {\n    if (this.gen && this.gen.num < 4) return false;\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonDetails(args[2], this.gen);\n  }\n\n  '|replace|'(args: Args['|replace|']) {\n    if (this.gen && this.gen.num < 5) return false;\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonDetails(args[2], this.gen);\n  }\n\n  '|swap|'(args: Args['|swap|'], kwArgs: KWArgs['|swap|']) {\n    if (this.gen && this.gen.num < 5) return false;\n    return args.length === 3 &&\n      verifyKWArgs(kwArgs, ['from'], this.gen) &&\n      verifyPokemonIdent(args[1]) &&\n      verifyNum(args[2] as Protocol.Num) &&\n      kwArgs.from === 'move: Ally Switch';\n  }\n\n  // TODO\n  '|cant|'(args: Args['|cant|'], kwArgs: KWArgs['|cant|']) {\n    if (!verifyPokemonIdent(args[1])) return false;\n    if (this.gen?.num === 1) {\n      const reasons = ['Disable', 'flinch', 'slp', 'frz', 'par', 'partiallytrapped', 'recharge'];\n      if (!reasons.includes(args[2]) || Object.keys(kwArgs).length) return false;\n      return (args[2] === 'Disable'\n        ? (args.length === 4 && verifyMoveName(args[3] as Protocol.MoveName, this.gen))\n        : args.length === 3);\n    }\n    return (args.length === 3 || args.length === 4) &&\n      (REASONS.includes(args[2] as Protocol.Reason) ||\n        verifyEffectName(args[2] as Protocol.EffectName, this.gen) ||\n        verifyAbilityName(args[2] as Protocol.AbilityName, this.gen) ||\n        verifyMoveName(args[2] as Protocol.MoveName, this.gen)) &&\n      (!args[3] ||\n        verifyEffectName(args[3] as Protocol.EffectName, this.gen) ||\n        verifyMoveName(args[3] as Protocol.MoveName, this.gen)) &&\n      verifyKWArgs(kwArgs, KWARGS, this.gen);\n  }\n\n  '|faint|'(args: Args['|faint|']) {\n    return args.length === 2 && verifyPokemonIdent(args[1]);\n  }\n\n  '|-formechange|'(args: Args['|-formechange|'], kwArgs: KWArgs['|-formechange|']) {\n    if (this.gen && this.gen.num < 3) return false;\n    const valid = verifyPokemonIdent(args[1]) && verifySpeciesName(args[2], this.gen) &&\n      args.length === 3 || (args.length === 4 && args[3] === '');\n    if (!valid) return false;\n\n    switch (this.gen?.num || 0) {\n      case 3: {\n        return verifyKWArgs(kwArgs, ['msg', 'from'], this.gen) &&\n          !!kwArgs.msg && kwArgs.from === 'ability: Forecast';\n      }\n      case 4: {\n        return !Object.keys(kwArgs).length ||\n          (verifyKWArgs(kwArgs, ['msg', 'from'], this.gen) &&\n            !!kwArgs.msg && (kwArgs.from === 'ability: Forecast' ||\n              kwArgs.from === 'ability: Flower Gift'));\n      }\n      default: return verifyKWArgs(kwArgs, [...KWARGS, 'msg'], this.gen);\n    }\n  }\n\n  // TODO\n  '|-fail|'(args: Args['|-fail|'], kwArgs: KWArgs['|-fail|']) {\n    if (this.gen?.num === 1) {\n      const valid = verifyPokemonIdent(args[1]) && verifyKWArgs(kwArgs, ['weak'], this.gen);\n      if (!valid || args.length > 3) return false;\n      if (args.length === 2) return true;\n      const reasons = ['move: Substitute', 'par', 'psn', 'slp', 'tox'];\n      if (!reasons.includes(args[2])) return false;\n      return !kwArgs.weak || args[2] === 'move: Substitute';\n    }\n    const keys: Protocol.BattleArgsWithKWArgType[] =\n      [...KWARGS, 'forme', 'heavy', 'msg', 'weak', 'fail', 'block'];\n    if (!verifyKWArgs(kwArgs, keys, this.gen)) {\n      return false;\n    }\n    if (args.length === 2) return verifyPokemonIdent(args[1]);\n    if (args.length === 3) {\n      return verifyPokemonIdent(args[1]) &&\n        (verifyStatusName(args[2] as StatusName) ||\n        verifyEffectName(args[2] as Protocol.EffectName, this.gen) ||\n        verifyMoveName(args[2] as Protocol.MoveName, this.gen));\n    }\n    return args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      args[2] === 'unboost' &&\n      (verifyBoostID(args[3] as BoostID) ||\n        verifyStatDisplayName(args[3] as Protocol.StatDisplayName));\n  }\n\n  // TODO FIXME\n  '|-block|'(args: Args['|-block|'], kwArgs: KWArgs['|-block|']) {\n    // NB: before upgrading only Aroma Veil (gen 6+), Flower Veil (gen 6+), and\n    // Ability Shield (gen 9+) use |-block|\n    if (this.gen?.num === 1) {\n      return args.length === 4 &&\n        verifyPokemonIdent(args[1]) &&\n        !Object.keys(kwArgs).length &&\n        args[2] === 'move: Mist' &&\n        args[3] === '';\n    }\n    if (!verifyKWArgs(kwArgs, KWARGS, this.gen)) return false;\n    if (!(verifyPokemonIdent(args[1]) &&\n      (verifyEffectName(args[2] as Protocol.EffectName, this.gen) ||\n        verifyMoveName(args[2] as Protocol.MoveName, this.gen)))) {\n      return false;\n    }\n    if (args.length === 3) return true;\n    if (args.length === 4) return args[3] === '' || verifyMoveName(args[3], this.gen);\n    return args.length === 5 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyEffectName(args[2], this.gen) &&\n      verifyMoveName(args[3], this.gen) &&\n      (args[4] === '' || verifyPokemonIdent(args[4]));\n  }\n\n  '|-notarget|'(args: Args['|-notarget|']) {\n    if (this.gen && this.gen.num < 3) return false;\n    if (args.length === 2 && verifyPokemonIdent(args[1])) return true;\n    // This shouldn't be possible because you can't be missing a target in singles...\n    return !this.gen && args.length === 1;\n  }\n\n  '|-miss|'(args: Args['|-miss|']) {\n    if (!verifyPokemonIdent(args[1])) return false;\n    if (args.length === 2) return !this.gen || this.gen.num <= 2;\n    return this.gen?.num !== 1 && args.length === 3 && verifyPokemonIdent(args[2]);\n  }\n\n  // TODO\n  '|-damage|'(args: Args['|-damage|'], kwArgs: KWArgs['|-damage|']) {\n    const valid =\n      args.length === 3 && verifyPokemonIdent(args[1]) && verifyPokemonHPStatus(args[2]);\n    if (!valid) return false;\n    if (this.gen?.num === 1) {\n      if (!verifyKWArgs(kwArgs, ['from', 'of'], this.gen)) return false;\n      return !kwArgs.from || (kwArgs.of\n        ? ['brn', 'psn', 'Leech Seed', 'Recoil']\n        : ['brn', 'psn', 'confusion']).includes(kwArgs.from);\n    }\n    return verifyKWArgs(kwArgs, [...KWARGS, 'partiallytrapped'], this.gen);\n  }\n\n  // TODO\n  '|-heal|'(args: Args['|-heal|'], kwArgs: KWArgs['|-heal|']) {\n    const valid =\n      args.length === 3 && verifyPokemonIdent(args[1]) && verifyPokemonHPStatus(args[2]);\n    if (!valid) return false;\n    if (this.gen?.num === 1) {\n      if (!verifyKWArgs(kwArgs, ['from', 'of', 'silent'], this.gen)) return false;\n      if (!Object.keys(kwArgs).length) return true;\n      return kwArgs.silent ? !(kwArgs.from || kwArgs.of) : (kwArgs.from === 'drain' && !!kwArgs.of);\n    }\n    return verifyKWArgs(kwArgs, [...KWARGS, 'wisher', 'zeffect'], this.gen);\n  }\n\n  '|-sethp|'(args: Args['|-sethp|'], kwArgs: KWArgs['|-sethp|']) {\n    if (this.gen?.num === 1) return false;\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonHPStatus(args[2]) &&\n      verifyKWArgs(kwArgs, ['from', 'silent'], this.gen) &&\n      kwArgs.from === 'move: Pain Split';\n  }\n\n  // TODO\n  '|-status|'(args: Args['|-status|'], kwArgs: KWArgs['|-status|']) {\n    const valid = args.length === 3 && verifyPokemonIdent(args[1]) && verifyStatusName(args[2]);\n    if (!valid) return false;\n\n    switch (this.gen?.num || 0) {\n      case 1: case 2: {\n        if (!verifyKWArgs(kwArgs, ['from', 'silent'], this.gen)) return false;\n        if (kwArgs.from) {\n          return !kwArgs.silent && args[2] === 'slp' && kwArgs.from.startsWith('move: ');\n        }\n        return !kwArgs.silent || args[2] === 'psn';\n      }\n      case 3: {\n        if (['frz', 'tox'].includes(args[2])) return !Object.keys(kwArgs).length;\n        if (!verifyKWArgs(kwArgs, ['from', 'of'], this.gen)) return false;\n        if (args[2] === 'slp') {\n          return !kwArgs.of && (!kwArgs.from || kwArgs.from?.startsWith('move: '));\n        }\n        return !kwArgs.from || (kwArgs.from.startsWith('ability: ') && !!kwArgs.of);\n      }\n      case 4: {\n        if (args[2] === 'frz') return !Object.keys(kwArgs).length;\n        if (!verifyKWArgs(kwArgs, ['from', 'of'], this.gen)) return false;\n        if (args[2] === 'slp') {\n          return !kwArgs.of && (!kwArgs.from || kwArgs.from?.startsWith('move: '));\n        }\n        if (kwArgs.from?.startsWith('item: ')) {\n          return ['brn', 'tox'].includes(args[2]) && !kwArgs.of;\n        }\n        return !kwArgs.from || (kwArgs.from.startsWith('ability: ') && !!kwArgs.of);\n      }\n      default: return verifyKWArgs(kwArgs, KWARGS, this.gen);\n    }\n  }\n\n  // TODO\n  '|-curestatus|'(args: Args['|-curestatus|'], kwArgs: KWArgs['|-curestatus|']) {\n    const valid = args.length === 3 && verifyPokemonIdent(args[1]) && verifyStatusName(args[2]);\n    if (!valid) return false;\n\n    switch (this.gen?.num || 0) {\n      case 1: {\n        if (!verifyKWArgs(kwArgs, ['msg', 'silent'], this.gen)) return false;\n        if (kwArgs.msg) return ['slp', 'frz'].includes(args[2]);\n        return !!kwArgs.silent;\n      }\n      case 2: return verifyKWArgs(kwArgs, ['msg'], this.gen) && !!kwArgs.msg;\n      case 3: case 4: {\n        if (!verifyKWArgs(kwArgs, ['msg', 'silent', 'from'], this.gen)) return false;\n        if (Object.keys(kwArgs).length > 1) return false;\n        if (!kwArgs.from) return true;\n        if (args[2] === 'frz') {\n          if (kwArgs.silent) return false;\n        } else {\n          return kwArgs.from === 'ability: Natural Cure';\n        }\n        const from = ['move: Flame Wheel', 'move: Sacred Fire', 'ability: Natural Cure'];\n        if (this.gen!.num === 4) from.push('move: Flare Blitz');\n        return from.includes(kwArgs.from);\n      }\n      default: return verifyKWArgs(kwArgs, [...KWARGS, 'thaw', 'msg'], this.gen);\n    }\n  }\n\n  '|-cureteam|'(args: Args['|-cureteam|'], kwArgs: KWArgs['|-cureteam|']) {\n    if (this.gen && (this.gen.num < 2 || this.gen.num > 4)) return false;\n    const valid = args.length === 2 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyKWArgs(kwArgs, ['from'], this.gen);\n    if (!valid) return false;\n    if (!this.gen) return true;\n    return kwArgs.from === (this.gen.num === 2 ? 'move: Heal Bell' : 'move: Aromatherapy');\n  }\n\n  // TODO gen 2/3/4\n  '|-boost|'(args: Args['|-boost|'], kwArgs: KWArgs['|-boost|']) {\n    const valid = args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyBoostID(args[2]) &&\n      verifyNum(args[3]);\n    if (!valid) return false;\n    if (this.gen?.num === 1) {\n      if (kwArgs.from === 'Rage' && args[2] === 'atk') return true;\n      return !Object.keys(kwArgs).length;\n    }\n    return verifyKWArgs(kwArgs, [...KWARGS, 'multiple', 'zeffect'], this.gen);\n  }\n\n  // TODO gen 2/3/4\n  '|-unboost|'(args: Args['|-unboost|'], kwArgs: KWArgs['|-unboost|']) {\n    const valid = args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyBoostID(args[2]) &&\n      verifyNum(args[3]);\n    if (!valid) return false;\n    if (this.gen?.num === 1) return !Object.keys(kwArgs).length;\n    return verifyKWArgs(kwArgs, [...KWARGS, 'multiple', 'zeffect'], this.gen);\n  }\n\n  '|-setboost|'(args: Args['|-setboost|'], kwArgs: KWArgs['|-setboost|']) {\n    if (this.gen && this.gen.num < 2) return false;\n    const from =\n      this.gen?.num === 2 ? ['move: Belly Drum'] : ['move: Belly Drum', 'ability: Anger Point'];\n    return args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      args[2] === 'atk' &&\n      verifyNum(args[3]) &&\n      verifyKWArgs(kwArgs, ['from'], this.gen) &&\n      from.includes(kwArgs.from!);\n  }\n\n  '|-swapboost|'(args: Args['|-swapboost|'], kwArgs: KWArgs['|-swapboost|']) {\n    if (!(verifyPokemonIdent(args[1]) && verifyPokemonIdent(args[2]))) return false;\n    if (!verifyKWArgs(kwArgs, ['from'], this.gen)) return false;\n    if (!this.gen) return args.length === 3 || (args.length === 4 && verifyBoostIDs(args[3]));\n    if (this.gen.num < 4) return false;\n    switch (kwArgs.from) {\n      case 'move: Heart Swap': return args.length === 3;\n      case 'move: Power Swap': return args.length === 4 && args[3] === 'atk, spa';\n      case 'move: Guard Swap': return args.length === 4 && args[3] === 'def, spd';\n      default: return false;\n    }\n  }\n\n  '|-invertboost|'(args: Args['|-invertboost|'], kwArgs: KWArgs['|-invertboost|']) {\n    if (this.gen && this.gen.num < 6) return false;\n    return args.length === 2 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyKWArgs(kwArgs, ['from'], this.gen) &&\n      kwArgs.from === 'move: Topsy-Turvy';\n  }\n\n  '|-clearboost|'(args: Args['|-clearboost|'], kwArgs: KWArgs['|-clearboost|']) {\n    if (!(args.length === 2 && verifyPokemonIdent(args[1]))) return false;\n    if (!this.gen) return verifyKWArgs(kwArgs, [...KWARGS], this.gen);\n    if (this.gen.num < 5) return false;\n    if (this.gen.num < 8) return !Object.keys(kwArgs).length;\n    return verifyKWArgs(kwArgs, ['from', 'of'], this.gen) &&\n      !kwArgs.from || (kwArgs.from === 'ability: Curious Medicine' && !!kwArgs.of);\n  }\n\n  '|-clearallboost|'(args: Args['|-clearallboost|'], kwArgs: KWArgs['|-clearallboost|']) {\n    if (args.length !== 1 || !verifyKWArgs(kwArgs, ['silent'], this.gen)) return false;\n    if (!this.gen) return true;\n    return this.gen.num === 1 ? kwArgs.silent === true : !Object.keys(kwArgs).length;\n  }\n\n  '|-clearpositiveboost|'(args: Args['|-clearpositiveboost|']) {\n    if (this.gen && this.gen.num < 7) return false;\n    return args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonIdent(args[2]) &&\n      args[3] === 'move: Spectral Thief';\n  }\n\n  '|-ohko|'(args: Args['|-ohko|']) {\n    return args.length === 1;\n  }\n\n  '|-candynamax|'(args: Args['|-candynamax|']) {\n    if (this.gen && this.gen.num < 8) return false;\n    return args.length === 2 && verifyPlayer(args[1]);\n  }\n\n  '|-terastallize|'(args: Args['|-terastallize|']) {\n    if (this.gen && this.gen.num < 9) return false;\n    return args.length === 3 && verifyPokemonIdent(args[1]) && verifyType(args[2]);\n  }\n\n  '|-clearnegativeboost|'(\n    args: Args['|-clearnegativeboost|'], kwArgs: KWArgs['|-clearnegativeboost|']\n  ) {\n    if (this.gen && this.gen.num < 3) return false;\n    return args.length === 2 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyKWArgs(kwArgs, ['silent', 'zeffect'], this.gen) &&\n      Object.keys(kwArgs).length === 1;\n  }\n\n  '|-copyboost|'(args: Args['|-copyboost|'], kwArgs: KWArgs['|-copyboost|']) {\n    if (this.gen && this.gen.num < 2) return false;\n    const from =\n      this.gen?.num === 2 ? ['move: Psych Up'] : ['move: Psych Up', 'ability: Costar'];\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonIdent(args[2]) &&\n      verifyKWArgs(kwArgs, ['from'], this.gen) &&\n      from.includes(kwArgs.from!);\n  }\n\n  '|-weather|'(args: Args['|-weather|'], kwArgs: KWArgs['|-weather|']) {\n    if (args.length !== 2) return false;\n    if (args[1] === 'none') return !Object.keys(kwArgs).length;\n\n    const weather = [0, 0, 3, 4, 4, 4, 7, 7, 7, 8];\n    const to = [0, 0, 0, 3, 4, 4, 7, 7, 8, 9];\n    const abilities = [\n      'ability: Drizzle', 'ability: Sand Stream', 'ability: Drought', 'ability: Snow Warning',\n      'ability: Primordial Sea', 'ability: Desolate Land', 'ability: Delta Stream',\n      'ability: Sand Spit', 'ability: Orichalcum Pulse',\n    ];\n\n    switch (this.gen?.num || 0) {\n      case 1: return false;\n      case 2: {\n        return WEATHER.slice(0, 3).includes(args[1]) && verifyKWArgs(kwArgs, ['upkeep'], this.gen);\n      }\n      case 3: case 4: case 5: case 6: case 7: case 8: case 9: {\n        if (!WEATHER.slice(0, weather[this.gen!.num]).includes(args[1])) return false;\n        if (this.gen!.num === 9 && args[1] === 'Hail') return false;\n        if (!verifyKWArgs(kwArgs, ['upkeep', 'from', 'of'], this.gen)) return false;\n        if (!Object.keys(kwArgs).length) return true;\n        if (kwArgs.upkeep) return Object.keys(kwArgs).length === 1;\n        return !!kwArgs.of && abilities.slice(0, to[this.gen!.num]).includes(kwArgs.from!);\n      }\n      default: {\n        return verifyWeather(args[1]) && verifyKWArgs(kwArgs, [...KWARGS, 'upkeep'], this.gen);\n      }\n    }\n  }\n\n  // TODO DEBUG\n  '|-fieldstart|'(args: Args['|-fieldstart|'], kwArgs: KWArgs['|-fieldstart|']) {\n    if (this.gen && this.gen.num < 4) return false;\n    return args.length === 2 &&\n      (verifyMoveEffectName(args[1] as Protocol.MoveEffectName, this.gen) ||\n        verifyFieldCondition(args[1] as FieldCondition)) &&\n      verifyKWArgs(kwArgs, KWARGS, this.gen);\n  }\n\n  // TODO DEBUG\n  '|-fieldend|'(args: Args['|-fieldend|'], kwArgs: KWArgs['|-fieldend|']) {\n    if (this.gen && this.gen.num < 4) return false;\n    return args.length === 2 &&\n      (verifyMoveEffectName(args[1] as Protocol.MoveEffectName, this.gen) ||\n        verifyFieldCondition(args[1] as FieldCondition)) &&\n      verifyKWArgs(kwArgs, KWARGS, this.gen);\n  }\n\n  '|-sidestart|'(args: Args['|-sidestart|'], kwArgs: KWArgs['|-sidestart|']) {\n    const valid = args.length === 3 && verifySide(args[1]) && (!this.gen || this.gen.num >= 8\n      ? verifyKWArgs(kwArgs, ['silent'], this.gen)\n      : !Object.keys(kwArgs).length);\n    if (!valid) return false;\n\n    const modern = [\n      'Reflect', 'Safeguard', 'move: Light Screen', 'Spikes', 'Mist',\n      'move: Lucky Chant', 'move: Stealth Rock', 'move: Tailwind', 'move: Toxic Spikes',\n      'Grass Pledge', 'Fire Pledge', 'Water Pledge', 'move: Sticky Web', 'move: Aurora Veil',\n    ];\n    const classic = modern.slice(0, 9);\n    classic[2] = 'Light Screen';\n    const dexit = modern.slice(0);\n    dexit.splice(5, 1); // Lucky Chant\n    const gen8 = [...dexit,\n      'G-Max Volcalith', 'G-Max Wildfire', 'G-Max Cannonade', 'G-Max Steelsurge', 'G-Max Vine Lash',\n    ];\n\n    switch (this.gen?.num || 0) {\n      case 1: return false;\n      case 2: return modern.slice(0, 4).includes(args[2]); // NB: modern\n      case 3: return classic.slice(0, 5).includes(args[2]);\n      case 4: return classic.includes(args[2]);\n      case 5: return modern.slice(0, 12).includes(args[2]);\n      case 6: return modern.slice(0, 13).includes(args[2]);\n      case 7: return modern.includes(args[2]);\n      case 8: return gen8.includes(args[2]);\n      case 9: return dexit.includes(args[2]);\n      default: {\n        return (verifyMoveEffectName(args[2] as Protocol.MoveEffectName, this.gen) ||\n            verifySideCondition(args[2] as SideCondition));\n      }\n    }\n  }\n\n  // TODO\n  '|-sideend|'(args: Args['|-sideend|'], kwArgs: KWArgs['|-sideend|']) {\n    if (this.gen && this.gen.num < 2) return false;\n    return args.length === 3 &&\n      verifySide(args[1]) &&\n      (verifyMoveEffectName(args[2] as Protocol.MoveEffectName, this.gen) ||\n        verifySideCondition(args[2] as SideCondition)) &&\n      verifyKWArgs(kwArgs, KWARGS, this.gen);\n  }\n\n  '|-swapsideconditions|'(args: Args['|-swapsideconditions|']) {\n    if (this.gen && this.gen.num < 8) return false;\n    return args.length === 1;\n  }\n\n  // TODO\n  '|-start|'(args: Args['|-start|'], kwArgs: KWArgs['|-start|']) {\n    if (!verifyPokemonIdent(args[1]) || args.length > 4) return false;\n    if (this.gen?.num === 1) {\n      if (args.length === 3) {\n        const reasons = [\n          'Bide', 'Light Screen', 'Mist', 'Reflect', 'Substitute',\n          'confusion', 'move: Focus Energy', 'move: Leech Seed',\n        ];\n        return reasons.includes(args[2]) &&\n          (!Object.keys(kwArgs).length || (!!kwArgs.silent && args[2] === 'confusion'));\n      } else if (args.length === 4) {\n        if (args[2] === 'typechange') {\n          return (verifyTypes(args[3] as Protocol.Types, this.gen) &&\n            verifyKWArgs(kwArgs, ['from', 'of'], this.gen) &&\n            kwArgs.from === 'move: Conversion');\n        } else {\n          return (['Disable', 'Mimic'].includes(args[2]) &&\n            !Object.keys(kwArgs).length &&\n            verifyMoveName(args[3] as Protocol.MoveName, this.gen));\n        }\n      }\n    }\n    const keys: Protocol.BattleArgsWithKWArgType[] =\n      [...KWARGS, 'already', 'damage', 'block', 'fatigue', 'upkeep', 'zeffect'];\n    if (!verifyKWArgs(kwArgs, keys, this.gen)) return false;\n    if (args[2] === 'Dynamax') {\n      return args.length === 3 || (args.length === 4 && (args[3] === 'Gmax' || args[3] === ''));\n    }\n    if (args[2] === 'typechange') {\n      return args.length === 3 ||\n        (args.length === 4 && verifyTypes(args[3] as Protocol.Types, this.gen));\n    }\n    if (args[2] === 'typeadd') {\n      return args.length === 4 && verifyType(args[3] as TypeName, this.gen);\n    }\n    if (!(verifyEffectName(args[2] as Protocol.EffectName, this.gen) ||\n      verifyMoveName(args[2] as Protocol.MoveName, this.gen))) {\n      return false;\n    }\n    return args.length === 3 || verifyMoveName(args[3] as Protocol.MoveName, this.gen);\n  }\n\n  // TODO\n  '|-end|'(args: Args['|-end|'], kwArgs: KWArgs['|-end|']) {\n    if (this.gen?.num === 1) {\n      const valid = args.length === 3 &&\n        verifyPokemonIdent(args[1]) &&\n        verifyKWArgs(kwArgs, ['silent'], this.gen);\n      if (!valid) return false;\n      return (kwArgs.silent ? [\n        'Disable', 'confusion', 'Mist', 'move: Focus Energy', 'move: Leech Seed',\n        'Toxic counter', 'Light Screen', 'Reflect', 'move: Bide',\n      ] : [\n        'Disable', 'confusion', 'Bide', 'Substitute',\n      ]).includes(args[2]);\n    }\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      (verifyEffectName(args[2] as Protocol.EffectName, this.gen) ||\n        verifyMoveName(args[2] as Protocol.MoveName, this.gen) ||\n        verifyAbilityName(args[2] as Protocol.AbilityName, this.gen)) &&\n      verifyKWArgs(kwArgs, [...KWARGS, 'partiallytrapped', 'interrupt'], this.gen);\n  }\n\n  '|-crit|'(args: Args['|-crit|']) {\n    return args.length === 2 && verifyPokemonIdent(args[1]);\n  }\n\n  '|-supereffective|'(args: Args['|-supereffective|']) {\n    return args.length === 2 && verifyPokemonIdent(args[1]);\n  }\n\n  '|-resisted|'(args: Args['|-resisted|']) {\n    return args.length === 2 && verifyPokemonIdent(args[1]);\n  }\n\n  // TODO DEBUG\n  '|-immune|'(args: Args['|-immune|'], kwArgs: KWArgs['|-immune|']) {\n    if (!verifyPokemonIdent(args[1])) return false;\n    switch (this.gen?.num || 0) {\n      case 1: return args.length === 2 && verifyKWArgs(kwArgs, ['ohko'], this.gen);\n      case 2: return args.length === 2 && verifyKWArgs(kwArgs, ['ohko'], this.gen);\n      case 3: case 4: {\n        if (args.length === 3) {\n          return args[2] === 'confusion' &&\n            Object.keys(kwArgs).length === 1 &&\n            kwArgs.from === 'ability: Own Tempo';\n        }\n        if (!(args.length === 2 && verifyKWArgs(kwArgs, ['from', 'ohko'], this.gen))) return false;\n        if (Object.keys(kwArgs).length > 1) return false;\n        return !kwArgs.from || (kwArgs.from.startsWith('ability: ') ||\n          this.gen!.num === 4 && kwArgs.from === 'Oblivious');\n      }\n      default: {\n        if (!verifyKWArgs(kwArgs, [...KWARGS, 'ohko'], this.gen)) return false;\n        return args.length === 2 || (args.length === 3 && args[2] === 'confusion');\n      }\n    }\n  }\n\n  // TODO\n  '|-item|'(args: Args['|-item|'], kwArgs: KWArgs['|-item|']) {\n    if (this.gen && this.gen.num < 2) return false;\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyItemName(args[2], this.gen) &&\n      verifyKWArgs(kwArgs, [...KWARGS, 'identify'], this.gen);\n  }\n\n  // TODO\n  '|-enditem|'(args: Args['|-enditem|'], kwArgs: KWArgs['|-enditem|']) {\n    if (this.gen && this.gen.num < 2) return false;\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyItemName(args[2], this.gen) &&\n      verifyKWArgs(kwArgs, [...KWARGS, 'eat', 'move', 'weaken'], this.gen);\n  }\n\n  // TODO\n  '|-ability|'(args: Args['|-ability|'], kwArgs: KWArgs['|-ability|']) {\n    if (this.gen && this.gen.num < 3) return false;\n    if (!verifyKWArgs(kwArgs, [...KWARGS, 'move', 'weaken', 'fail'], this.gen)) return false;\n    if (!(verifyPokemonIdent(args[1]) && verifyAbilityName(args[2], this.gen))) return false;\n    if (args.length === 3) return true;\n    if (args.length === 4) {\n      return args[3] === 'boost' ||\n        verifySide(args[3] as Protocol.Side) ||\n        verifyPokemonIdent(args[3] as Protocol.PokemonIdent);\n    }\n    return args.length === 5 &&\n      verifyAbilityName(args[3], this.gen) &&\n      verifyPokemonIdent(args[4]);\n  }\n\n  // TODO\n  '|-endability|'(args: Args['|-endability|'], kwArgs: KWArgs['|-endability|']) {\n    if (this.gen && this.gen.num < 3) return false;\n    if (!verifyKWArgs(kwArgs, KWARGS, this.gen)) return false;\n    if (!verifyPokemonIdent(args[1])) return false;\n    return args.length === 2 ||\n      (args.length === 3 && (args[2] === 'none' || verifyAbilityName(args[2], this.gen)));\n  }\n\n  '|-transform|'(args: Args['|-transform|'], kwArgs: KWArgs['|-transform|']) {\n    const valid = args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyPokemonIdent(args[2]);\n    if (!valid) return false;\n    if (this.gen && this.gen.num < 5) return !Object.keys(kwArgs).length;\n    return verifyKWArgs(kwArgs, ['from'], this.gen) &&\n      (!kwArgs.from || kwArgs.from === 'ability: Imposter');\n  }\n\n  '|-mega|'(args: Args['|-mega|']) {\n    if (this.gen && (this.gen.num < 6 || this.gen.num > 7)) return false;\n    return args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      verifySpeciesName(args[2], this.gen) &&\n      (args[3] === '' || verifyItemName(args[3], this.gen));\n  }\n\n  '|-primal|'(args: Args['|-primal|']) {\n    if (this.gen && this.gen.num < 6) return false;\n    return args.length === 3 &&\n      verifyPokemonIdent(args[1]) &&\n      ['Blue Orb', 'Red Orb'].includes(args[2]);\n  }\n\n  '|-burst|'(args: Args['|-burst|']) {\n    if (this.gen && this.gen.num < 7) return false;\n    return args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      verifySpeciesName(args[2], this.gen) &&\n      verifyItemName(args[3], this.gen);\n  }\n\n  '|-zpower|'(args: Args['|-zpower|']) {\n    if (this.gen && this.gen.num < 7) return false;\n    return args.length === 2 && verifyPokemonIdent(args[1]);\n  }\n\n  '|-zbroken|'(args: Args['|-zbroken|']) {\n    if (this.gen && this.gen.num < 7) return false;\n    return args.length === 2 && verifyPokemonIdent(args[1]);\n  }\n\n  // TODO\n  '|-activate|'(args: Args['|-activate|'], kwArgs: KWArgs['|-activate|']) {\n    if (this.gen?.num === 1) {\n      const valid = (args.length === 3 || (args.length === 4 && args[3] === '')) &&\n        verifyKWArgs(kwArgs, ['damage'], this.gen);\n      if (!valid) return false;\n      if (args[1] === '') return args[2] === 'move: Splash';\n      return verifyPokemonIdent(args[1]) && (kwArgs.damage\n        ? args[2] === 'Substitute'\n        : ['Bide', 'confusion', 'move: Haze', 'move: Mist', 'move: Struggle'].includes(args[2]));\n    }\n    const keys: Protocol.BattleArgsWithKWArgType[] = [\n      ...KWARGS, 'ability', 'ability2', 'block', 'broken', 'damage',\n      'item', 'move', 'number', 'consumed', 'name', 'fromitem', 'source',\n    ];\n    if (!verifyKWArgs(kwArgs, keys, this.gen)) return false;\n    if (!(args[1] === '' || verifyPokemonIdent(args[1]))) return false;\n    if (!(verifyEffectName(args[2] as Protocol.EffectName, this.gen) ||\n      verifyAbilityName(args[2] as Protocol.AbilityName, this.gen) ||\n      verifyMoveName(args[2] as Protocol.MoveName, this.gen))) {\n      return false;\n    }\n    if (args.length === 3) return true;\n    if (args.length === 4) {\n      return args[3] === '' ||\n        verifyAbilityName(args[3] as Protocol.AbilityName, this.gen) ||\n        verifyItemName(args[3] as Protocol.ItemName, this.gen) ||\n        verifyMoveName(args[3] as Protocol.MoveName, this.gen) ||\n        verifyNum(args[3] as Protocol.Num) ||\n        verifyPokemonIdent(args[3] as PokemonIdent);\n    }\n    return args.length === 5 &&\n      (args[3] === '' || verifyAbilityName(args[3], this.gen)) &&\n      (args[4] === '' || verifyAbilityName(args[4], this.gen));\n  }\n\n  '|-fieldactivate|'(args: Args['|-fieldactivate|']) {\n    if (args.length !== 2) return false;\n    if (!this.gen) return args[1] === 'Delta Stream' || verifyEffectName(args[1], this.gen);\n\n    const effects = [\n      'move: Pay Day', 'move: Perish Song', 'move: Fairy Lock',\n      'move: Ion Deluge', 'Delta Stream', 'move: Teatime',\n    ];\n    const to = [0, 1, 2, 2, 2, 2, 5, 5, 6, 6];\n\n    return effects.slice(this.gen.num >= 5 ? 1 : 0, to[this.gen.num]).includes(args[1]);\n  }\n\n  '|-hint|'(args: Args['|-hint|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|-center|'(args: Args['|-center|']) {\n    if (this.gen && this.gen.num < 5) return false;\n    return args.length === 1;\n  }\n\n  '|-message|'(args: Args['|-message|']) {\n    return args.length === 2 && !!args[1];\n  }\n\n  '|-combine|'(args: Args['|-combine|']) {\n    if (this.gen && this.gen.num < 5) return false;\n    return args.length === 1;\n  }\n\n  '|-waiting|'(args: Args['|-waiting|']) {\n    if (this.gen && this.gen.num < 5) return false;\n    return args.length === 3 && verifyPokemonIdent(args[1]) && verifyPokemonIdent(args[2]);\n  }\n\n  '|-prepare|'(args: Args['|-prepare|']) {\n    if (!(verifyPokemonIdent(args[1]) && verifyMoveName(args[2], this.gen))) return false;\n    if (this.gen && this.gen.num < 5) return args.length === 3;\n    return (args[2] === 'Sky Drop'\n      ? args.length === 4 && verifyPokemonIdent(args[3])\n      : args.length === 3);\n  }\n\n  '|-mustrecharge|'(args: Args['|-mustrecharge|']) {\n    return args.length === 2 && verifyPokemonIdent(args[1]);\n  }\n\n  '|-hitcount|'(args: Args['|-hitcount|']) {\n    return args.length === 3 && verifyPokemonIdent(args[1]) && verifyNum(args[2]);\n  }\n\n  '|-singlemove|'(args: Args['|-singlemove|'], kwArgs: KWArgs['|-singlemove|']) {\n    const valid = args.length === 3 && verifyPokemonIdent(args[1]);\n    if (!valid) return false;\n    switch (this.gen?.num || 0) {\n      case 1: return false;\n      case 2: case 3: case 4: case 5: case 6: case 7: {\n        const reasons = ['Destiny Bond', 'Rage'];\n        if (this.gen!.num >= 3) reasons.push('Grudge');\n        return !Object.keys(kwArgs).length && reasons.includes(args[2]);\n      }\n      case 8: {\n        const reasons = ['Destiny Bond', 'Grudge'];\n        return !Object.keys(kwArgs).length && reasons.includes(args[2]);\n      }\n      case 9: {\n        return (Object.keys(kwArgs).length\n          ? args[2] === 'Glaive Rush' &&\n            verifyKWArgs(kwArgs, ['silent'], this.gen) &&\n            kwArgs.silent === true\n          : args[2] === 'Destiny Bond' && !Object.keys(kwArgs).length);\n      }\n      default: {\n        return verifyMoveName(args[2], this.gen) &&\n          verifyKWArgs(kwArgs, ['silent'], this.gen);\n      }\n    }\n  }\n\n  // TODO DEBUG\n  '|-singleturn|'(args: Args['|-singleturn|'], kwArgs: KWArgs['|-singleturn|']) {\n    const valid = args.length === 3 && verifyPokemonIdent(args[1]);\n    if (!valid) return false;\n    switch (this.gen?.num || 0) {\n      case 1: return false;\n      case 2: case 3: case 4: {\n        const reasons = ['Protect', 'move: Endure'];\n        if (this.gen!.num >= 3) {\n          reasons.push('Snatch', 'move: Focus Punch', 'move: Follow Me', 'Helping Hand');\n        }\n        if (this.gen!.num >= 4) reasons.push('move: Roost');\n        if (!reasons.includes(args[2])) return false;\n        if (this.gen!.num === 2 && Object.keys(kwArgs).length) return false;\n        if (!verifyKWArgs(kwArgs, ['of'], this.gen)) return false;\n        return !kwArgs.of || args[2] === 'Helping Hand';\n      }\n      default: {\n        return (verifyMoveEffectName(args[2] as Protocol.MoveEffectName, this.gen) ||\n            verifyMoveName(args[2] as Protocol.MoveName, this.gen)) &&\n          verifyKWArgs(kwArgs, [...KWARGS, 'zeffect'], this.gen);\n      }\n    }\n  }\n\n  '|-anim|'(args: Args['|-anim|'], kwArgs: KWArgs['|-anim|']) {\n    return args.length === 4 &&\n      verifyPokemonIdent(args[1]) &&\n      verifyAnimationName(args[2], this.gen) &&\n      verifyPokemonIdent(args[3]) &&\n      verifyKWArgs(kwArgs, [...KWARGS, 'spread', 'miss', 'notarget'], this.gen);\n  }\n\n  '|-nothing|'(args: string[]) {\n    if (!this.raw) throw new Error('Encountered non-upgraded |-nothing arg');\n    return args.length === 1;\n  }\n}\n\nexport class Verifier {\n  handler: Handler;\n  raw?: Handler;\n\n  static EXISTS = (d: {exists: boolean}) => d.exists;\n\n  constructor(gen?: Generation, raw?: boolean) {\n    this.handler = new Handler(gen);\n    if (raw) this.raw = new Handler(gen, raw);\n  }\n\n  verify(data: string) {\n    for (const {roomid, args, kwArgs} of Protocol.parse(data)) {\n      if (!verifyRoomID(roomid)) return data;\n      if (!this.dispatch(args, kwArgs, false)) return data;\n    }\n    // TODO\n    // if (this.raw) {\n    //   for (const {roomid, args, kwArgs} of parseRaw(data)) {\n    //     if (!verifyRoomID(roomid as Protocol.RoomID)) return data;\n    //     if (!this.dispatch(args as any, kwArgs as any, true)) return data;\n    //   }\n    // }\n    return undefined;\n  }\n\n  verifyLine(line: string) {\n    const parsed = Protocol.parseBattleLine(line);\n    if (!this.dispatch(parsed.args, parsed.kwArgs, false)) return parsed;\n    // TODO\n    // if (this.raw) {\n    //   const raw = parseRawBattleLine(line);\n    //   if (!this.dispatch(raw.args as any, raw.kwArgs as any, true)) return raw;\n    // }\n    return undefined;\n  }\n\n  dispatch(args: Protocol.ArgType, kwArgs: Protocol.BattleArgsKWArgType, raw = false) {\n    const handler = raw && this.raw ? this.raw : this.handler;\n    const key = Protocol.key(args, raw);\n    if (!key || !handler[key]) return false;\n    if (Object.keys(kwArgs).length && !(key in Protocol.ARGS_WITH_KWARGS)) return false;\n    return (handler as any)[key](args, kwArgs);\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction *parseRaw(data: string) {\n  const lines = data.split('\\n');\n  let roomid = '';\n  for (const [i, line] of lines.entries()) {\n    if (i === 0 && line[0] === '>') {\n      roomid = line.slice(1);\n      continue;\n    } else if (line) {\n      const {args, kwArgs} = parseRawBattleLine(line);\n      yield {roomid, args, kwArgs};\n    }\n  }\n}\n\nfunction parseRawBattleLine(line: string) {\n  let args = parseRawLine(line, true) as [string, ...string[]];\n  if (args) return {args, kwArgs: {}};\n\n  args = line.slice(1).split('|') as [string, ...string[]];\n  const kwArgs: {[kw: string]: string | true} = {};\n  while (args.length > 1) {\n    const lastArg = args[args.length - 1];\n    if (lastArg.charAt(0) !== '[') break;\n    const bracketPos = lastArg.indexOf(']');\n    if (bracketPos <= 0) break;\n    // default to '.' so it evaluates to boolean true\n    kwArgs[lastArg.slice(1, bracketPos)] = lastArg.slice(bracketPos + 1).trim() || true;\n    args.pop();\n  }\n\n  return {args, kwArgs};\n}\n\nfunction parseRawLine(line: string, noDefault?: boolean): string[] | null {\n  if (!line.startsWith('|')) return ['', line];\n  if (line === '|') return ['done'];\n  const index = line.indexOf('|', 1);\n  const cmd = line.slice(1, index);\n  if (ignoreKwArgsSimple.has(cmd)) return ([cmd, line.slice(index + 1)]);\n  switch (cmd) {\n    case 'c': case 'chat': case 'uhtml': case 'uhtmlchange':\n    // three parts\n      const index2a = line.indexOf('|', index + 1);\n      return [cmd, line.slice(index + 1, index2a), line.slice(index2a + 1)];\n    case 'c:': case 'pm':\n    // four parts\n      const index2b = line.indexOf('|', index + 1);\n      const index3b = line.indexOf('|', index2b + 1);\n      return [\n        cmd,\n        line.slice(index + 1, index2b),\n        line.slice(index2b + 1, index3b),\n        line.slice(index3b + 1),\n      ];\n  }\n  if (noDefault) return null;\n  return line.slice(1).split('|');\n}\n"]}